(window["webpackJsonpcity-fix-it"]=window["webpackJsonpcity-fix-it"]||[]).push([[0],{53:function(e,t,a){e.exports=a(99)},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(26),r=a.n(i),s=(a(58),a(59),a(17)),l=a(3),o=a(4),u=a(6),m=a(5),p=a(7),d=(a(60),a(8)),E=a(9),h=a(20),f=a.n(h),b=a(24),k={isDeleting:!1,isDeleted:!1,isDeletedError:!1,isUpdating:!1,isUpdated:!1,isUpdatedError:!1,isGetting:!1,isGot:!1,isGetError:!1,isNewTicket:!1,isNewTicketSuccess:!1,isNewTicketError:!1,isAdmin:!1,isUser:!1,tickets:[{address:"Loading ... ",priority:"Loading ... ",type:"Loading ... ",_id:"Loading ... ",description:"Loading ..."}],currentTickets:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_TICKET":return Object.assign({},e,{isDeleting:!0});case"DELETE_FINISHED":return Object.assign({},e,{isDeleted:!0});case"DELETE_ERROR":return Object.assign({},e,{isDeletedError:!0});case"GOT_TICKETS":return Object.assign({},e,{tickets:t.tickets});case"SET_TICKETS":return Object.assign({},e,{currentTickets:t.search});case"NEW_TICKET":return Object.assign({},e,{isNewTicket:!0,isNewTicketError:!1,isNewTicketSuccess:!1});case"TICKET_SUCCESS":return Object.assign({},e,{isNewTicket:!1,isNewTicketSuccess:!0,isNewTicketError:!1});case"TICKET_ERROR":return Object.assign({},e,{isNewTicket:!1,isNewTicketSuccess:!1,isNewTicketError:!0});case"IS_ADMIN":return Object.assign({},e,{isAdmin:!0,isUser:!1});case"IS_USER":return Object.assign({},e,{isAdmin:!1,isUser:!0});default:return e}},v=a(49),O=Object(b.c)(y,Object(b.a)(v.a)),N=function(e){return{type:"SET_TICKETS",search:e}},g=function(e){return O.dispatch({type:"DELETE_TICKET"}),function(t,a){return f.a.delete("https://city-fix-it.herokuapp.com/tickets/delete/"+e).then(function(e){t(T())}).then(t(T())).catch(function(e){return t({type:"DELETE_ERROR"})})}},j=function(e,t){return O.dispatch({type:"UPDATE_START"}),function(a,n){return f.a.put("https://city-fix-it.herokuapp.com/tickets/"+e,{status:t}).then(function(e){a(T())}).then(a({type:"UPDATE_FINISHED"})).catch(function(e){return a({type:"UPDATE_ERROR"})})}},T=function(){return O.dispatch({type:"GET_TICKETS"}),function(e,t){f.a.get("https://city-fix-it.herokuapp.com/tickets").then(function(t){e({type:"GOT_TICKETS",tickets:t.data})}).catch(function(t){return e({type:"GET_TICKETS_ERROR"})})}},w=function(e){return O.dispatch({type:"NEW_TICKET"}),function(t,a){f.a.post("https://city-fix-it.herokuapp.com/tickets/create",e).then(function(e){return t({type:"TICKET_SUCCESSS"})}).catch(function(e){return t({type:"TICKET_ERROR"})})}},C=function(){return{type:"IS_ADMIN"}},S=function(){return{type:"IS_USER"}},I=(a(81),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).userClick=function(){a.props.dispatch(S())},a.adminClick=function(){a.props.dispatch(C())},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log(this.props),c.a.createElement("div",{className:"user-type-grid"},c.a.createElement("div",{onClick:this.adminClick,className:"admin-button"},c.a.createElement(d.b,{className:"link-tag admin-button",to:"/main"},c.a.createElement("span",null,"Admin"))),c.a.createElement("div",{onClick:this.userClick,className:"user-button"},c.a.createElement(d.b,{className:"link-tag user-button",to:"/main"},c.a.createElement("span",null,"User"))))}}]),t}(n.Component)),D=Object(E.b)(function(e){return{data:e}})(I),_=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"landing-container"},c.a.createElement("div",{className:"title"},c.a.createElement("div",null,c.a.createElement("div",{className:"landing-link"},c.a.createElement("h1",null,"City Fix-It"))),c.a.createElement("div",{className:"description"},c.a.createElement("p",null,"Welcome to City Fix-It, where you can report damage to the city."))),c.a.createElement("div",{className:"user-type-container"},c.a.createElement(D,null)))}}]),t}(n.Component),x=(a(83),a(84),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"dashboard"},c.a.createElement("div",{className:"dash-grid"},c.a.createElement("div",{className:"dash-menu"},c.a.createElement("div",{className:"dash-menu-items"},c.a.createElement(d.b,{className:"dashboard-link",to:"/main/"},c.a.createElement("ul",{className:"dash-link"},"Overview")),this.props.data.isAdmin?c.a.createElement(d.b,{className:"dash-link",to:"/main/ticket-search"},c.a.createElement("ul",null,"View Tickets")):null,c.a.createElement(d.b,{className:"dash-link",to:"/main/create/"},c.a.createElement("ul",null,"New Ticket"))))))}}]),t}(n.Component)),R=Object(E.b)(function(e){return{data:e}})(x),L=(a(85),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).createTicket=function(t){t.preventDefault();var a=new FormData(t.target),n={};Object.keys(e.state).forEach(function(e){return n[e]=a.get(e)}),e.props.dispatch(w(n)),document.getElementById("create-ticket-form").reset()},e.state={address:"",type:"",priority:"",description:"",status:"Pending"},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=["Address","Type","Priority","Description"].map(function(e,t){return"Description"===e?c.a.createElement("div",{key:t},c.a.createElement("span",null,e),c.a.createElement("textarea",{className:"textarea-box input ",type:"text",name:e.toLowerCase()})):c.a.createElement("div",{key:t},c.a.createElement("span",null,e),c.a.createElement("input",{className:"input",type:"text",name:e.toLowerCase()}))});return c.a.createElement("div",{className:"create-form",onSubmit:this.createTicket},c.a.createElement("form",{id:"create-ticket-form",className:"create-form"},c.a.createElement("div",{className:"form-label"},c.a.createElement("label",null,"New Ticket")),c.a.createElement("div",{className:"form-inputs"},e,c.a.createElement("input",{className:"form-submit",type:"submit",value:"submit"}))))}}]),t}(n.Component)),A=Object(E.b)(function(e){return{data:e}})(L),U=(a(86),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"list-item-grid"},c.a.createElement("div",{className:"ticket-item"},c.a.createElement(d.b,{className:"edit-link display-list",to:{pathname:"/main/ticket-search/"+this.props.tickets._id,state:{ticketInfo:this.props.tickets}}},c.a.createElement("div",{className:"edit "},"Edit")),c.a.createElement("div",{className:"type display-list"},this.props.tickets.type),c.a.createElement("div",{className:"priority display-list  "},this.props.tickets.priority),c.a.createElement("div",{className:"status display-list"},String(this.props.tickets._id).slice(19,24)),c.a.createElement("div",{className:"add display-list "},this.props.tickets.address),c.a.createElement("div",{className:"add display-list "},this.props.tickets.status)))}}]),t}(n.Component)),K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){a.props.dispatch(T())},a.ticketSearch=function(e){a.props.dispatch(N(e.target.value.toLowerCase()))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"ticket-search"},c.a.createElement("div",{className:"search-container"},c.a.createElement("input",{className:"search-box",type:"text",placeholder:"Search for a ticket",onChange:this.ticketSearch})),c.a.createElement("div",{className:"ticket-scroll"},this.props.data.tickets.map(function(t,a){if(void 0!==t.address&&(String(t._id).toLowerCase().includes(e.props.data.currentTickets)||t.priority.toLowerCase().includes(e.props.data.currentTickets)||t.address.toLowerCase().includes(e.props.data.currentTickets)))return c.a.createElement(U,{key:a,tickets:t})})))}}]),t}(n.Component),P=Object(E.b)(function(e){return{data:e}})(K),F=a(51),G=(a(87),a(88),a(19));function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var W=Object(G.g)(G.e),B=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).componentDidMount=function(){f.a.get("https://city-fix-it.herokuapp.com/tickets").then(function(t){var a=t.data.filter(function(e){return"Urgent"===e.priority}),n=t.data.filter(function(e){return"Routine"===e.priority});e.setState({urgentLength:a.length}),e.setState({routineLength:n.length})})},e.state={urgentLength:200,routineLength:100},e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[0,250],t=[{x:"Urgent",y:this.state.urgentLength},{x:"Routine",y:this.state.routineLength}];return c.a.createElement("div",{className:"chart"},c.a.createElement("div",{className:"description-overview"},c.a.createElement("h1",null,"Overview"),c.a.createElement("p",null,"Submitted tickets by type.")),c.a.createElement("div",{className:"chart-container"},c.a.createElement("div",{className:"chart-wrapper"},c.a.createElement(W,{className:"the-chart",xType:"ordinal",height:250,opacity:.7,yDomain:e,color:"green",margin:{left:50}},c.a.createElement(G.d,null),c.a.createElement(G.f,null),c.a.createElement(G.c,{data:t}),c.a.createElement(G.b,{className:"label-series",data:t.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach(function(t){Object(F.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{label:e.y.toString()})}),labelAnchorX:"middle",labelAnchorY:"text-after-edge"}),c.a.createElement(G.a,{className:"grid-lines"})))))}}]),t}(n.Component),H=(a(98),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).delete=function(){a.props.dispatch(g(a.props.location.state.ticketInfo._id))},a.onUpdate=function(e){e.preventDefault();var t=new FormData(e.target);a.props.dispatch(j(a.props.location.state.ticketInfo._id,t.get("status"))),console.log(a.props)},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"ticket-show"},c.a.createElement("div",{className:"ticket-container"},c.a.createElement(d.b,{to:"/main/ticket-search/",className:"delete-container"},c.a.createElement("div",{onClick:this.delete},c.a.createElement("span",{onClick:this.delete,className:"delete-text"},"Delete"))),c.a.createElement("p",{className:"ticket-address"},c.a.createElement("span",null,"Address : "),this.props.location.state.ticketInfo.address),c.a.createElement("p",{className:"ticket-priority"},c.a.createElement("span",null,"Priority: "),this.props.location.state.ticketInfo.priority),c.a.createElement("p",{className:"ticket-type"},c.a.createElement("span",null,"Type: "),this.props.location.state.ticketInfo.type),c.a.createElement("p",{className:"ticket-status"},c.a.createElement("span",null,"Status: "),this.props.location.state.ticketInfo.status),c.a.createElement("p",{className:"ticket-description"},c.a.createElement("span",null,"Description: "),this.props.location.state.ticketInfo.description),c.a.createElement("p",{className:"id"},c.a.createElement("span",null,"ID: "),String(this.props.location.state.ticketInfo._id).slice(19,24)),c.a.createElement("form",{onSubmit:this.onUpdate,className:"ticket-input-status"},c.a.createElement("input",{className:"ticket-input-box",placeholder:"update status",name:"status"}),c.a.createElement("div",{className:"submit-button"},c.a.createElement("input",{className:"submit-box",type:"submit",value:"submit"})))))}}]),t}(n.Component)),J=Object(E.b)(function(e){return{data:e}})(H),V=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"main-grid"},c.a.createElement("div",{className:"header-container"},c.a.createElement("div",{className:"main-header"},c.a.createElement(d.b,{className:"landing-redirect",to:"/"},c.a.createElement("header",{className:"main-header-text"},"City Fix-It")))),this.props.data.isAdmin?c.a.createElement("div",{className:"ticket-search-container"},c.a.createElement(s.a,{path:"/main/ticket-search",component:P})):null,this.props.data.isAdmin?c.a.createElement("div",{className:"ticket-show-container"},c.a.createElement(s.a,{path:"/main/ticket-search/:id",component:J})):null,c.a.createElement("div",{className:"dashboard-container"},c.a.createElement(R,{path:"/main/",component:t})),c.a.createElement("div",{className:"create-container"},c.a.createElement(s.a,{exact:!0,path:"/main/create",component:A})),c.a.createElement("div",{className:"ticket-chart-container"},c.a.createElement(s.a,{exact:!0,path:"/main",component:B})))}}]),t}(n.Component),X=Object(E.b)(function(e){return{data:e}})(V);var Y=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(s.a,{exact:!0,path:"/",component:_}),c.a.createElement(s.a,{path:"/main/",component:X}))};r.a.render(c.a.createElement(E.a,{store:O},c.a.createElement(d.a,null,c.a.createElement(Y,null))),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.e398ac3d.chunk.js.map